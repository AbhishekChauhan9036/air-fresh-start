<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Air Fresh Start â€“ Certificates</title>

<style>
body{
    font-family: "Segoe UI", sans-serif;
    background: linear-gradient(to right,#a8e063,#56ab2f);
    text-align:center;
    margin:0;
}
button{
    padding:12px 25px;
    margin:10px;
    background:#1b5e20;
    color:white;
    border:none;
    border-radius:6px;
    font-size:16px;
    cursor:pointer;
}
button:hover{background:#0d3d14;}

#formBox{
    background:white;
    width:360px;
    margin:30px auto;
    padding:20px;
    border-radius:10px;
    box-shadow:0 10px 25px rgba(0,0,0,0.3);
}

input{
    width:90%;
    padding:10px;
    margin:8px 0;
}

/* CERTIFICATE */
#certificate{
    display:none;
    width:900px;
    height:600px;
    margin:30px auto;
    padding:30px;
    background:linear-gradient(135deg,#e8f5e9,#ffffff);
    border:8px solid #1b5e20;
    position:relative;
}

#certificate::before{
    content:"";
    position:absolute;
    inset:15px;
    border:3px dashed #66bb6a;
}

#certificate img{width:120px;}

.cert-no{
    position:absolute;
    top:20px;
    right:30px;
    font-weight:bold;
    font-size:14px;
    color:#1b5e20;
}

h1{color:#1b5e20;}
</style>
</head>

<body>

<h1>ðŸŒ¿ Air Fresh Start ðŸŒ¿</h1>

<button onclick="showVolunteer()">ðŸŽ“ Volunteer Certificate</button>
<button onclick="showPledge()">âœ‹ Take Pledge</button>

<!-- FORM -->
<div id="formBox" style="display:none;">
    <h2 id="formTitle"></h2>
    <input id="name" placeholder="Full Name">
    <input id="city" placeholder="City">
    <button onclick="generateCertificate()">Generate Certificate</button>
</div>

<!-- CERTIFICATE -->
<div id="certificate">
    <div class="cert-no" id="certNo"></div>
    <img src="logo.png">
    <h1 id="certTitle"></h1>
    <p>This certifies that</p>
    <h2 id="certName"></h2>
    <p id="certText"></p>
    <p id="certCity"></p>
    <p><b>Date:</b> <span id="certDate"></span></p>
</div>

<button onclick="downloadCertificate()">â¬‡ Download Certificate</button>

<canvas id="canvas" width="900" height="600" style="display:none;"></canvas>

<script>
let mode = "";

function showVolunteer(){
    mode="VOL";
    document.getElementById("formTitle").innerText="Volunteer Registration";
    document.getElementById("formBox").style.display="block";
}

function showPledge(){
    mode="PLG";
    document.getElementById("formTitle").innerText="Pledge Registration";
    document.getElementById("formBox").style.display="block";
}

function certNumber(){
    const y=new Date().getFullYear();
    const r=Math.floor(10000+Math.random()*90000);
    return `AFS-${mode}-${y}-${r}`;
}

function generateCertificate(){
    const name=document.getElementById("name").value;
    const city=document.getElementById("city").value;
    if(!name||!city){alert("Fill all fields");return;}

    document.getElementById("certName").innerText=name;
    document.getElementById("certCity").innerText="City: "+city;
    document.getElementById("certDate").innerText=new Date().toDateString();
    document.getElementById("certNo").innerText="Certificate No: "+certNumber();

    if(mode==="VOL"){
        document.getElementById("certTitle").innerText="Certificate of Volunteering";
        document.getElementById("certText").innerText=
        "has actively participated in the Air Pollution Awareness Program organized by Air Fresh Start.";
    }else{
        document.getElementById("certTitle").innerText="Certificate of Pledge";
        document.getElementById("certText").innerText=
        "has taken a pledge to protect the environment and reduce air pollution.";
    }

    document.getElementById("certificate").style.display="block";
}

function downloadCertificate(){
    const c=document.getElementById("canvas");
    const x=c.getContext("2d");

    x.fillStyle="#ffffff";
    x.fillRect(0,0,900,600);

    x.strokeStyle="#1b5e20";
    x.lineWidth=8;
    x.strokeRect(10,10,880,580);

    x.setLineDash([10,6]);
    x.strokeStyle="#66bb6a";
    x.lineWidth=3;
    x.strokeRect(25,25,850,550);
    x.setLineDash([]);

    const img=new Image();
    img.src="logo.png";
    img.onload=()=>{
        x.drawImage(img,390,40,120,120);

        x.fillStyle="#1b5e20";
        x.textAlign="center";
        x.font="34px Arial";
        x.fillText(document.getElementById("certTitle").innerText,450,210);

        x.font="24px Arial";
        x.fillText(document.getElementById("certName").innerText,450,270);
        x.font="20px Arial";
        x.fillText(document.getElementById("certText").innerText,450,320);
        x.fillText(document.getElementById("certCity").innerText,450,360);
        x.fillText("Date: "+document.getElementById("certDate").innerText,450,400);
        x.font="16px Arial";
        x.fillText(document.getElementById("certNo").innerText,450,440);

        const a=document.createElement("a");
        a.download="Air_Fresh_Start_Certificate.png";
        a.href=c.toDataURL();
        a.click();
    };
}
</script>

</body>
</html>
